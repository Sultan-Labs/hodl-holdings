Create a file called sultanApi.js (or .ts) in your Replit project and paste this:


/** * Sultan L1 API Client + Wallet Integration * Add this file to your project and import the functions you need */const RPC_URL = 'https://rpc.sltn.io';// ============================================================================// Wallet Integration (Sultan Wallet Extension)// ============================================================================export function isWalletInstalled() {  return typeof window !== 'undefined' && typeof window.sultan !== 'undefined';}export async function connectWallet() {  if (!isWalletInstalled()) {    throw new Error('Sultan Wallet not installed');  }  const { address, publicKey } = await window.sultan.connect();  const balance = await window.sultan.getBalance();  return { connected: true, address, publicKey, balance: balance.available };}export async function disconnectWallet() {  if (window.sultan) await window.sultan.disconnect();}export async function signMessage(message) {  if (!window.sultan?.isConnected()) throw new Error('Wallet not connected');  return window.sultan.signMessage(message);}// ============================================================================// Token Factory API// ============================================================================export async function getTokens() {  const res = await fetch(`${RPC_URL}/tokens/list`);  const data = await res.json();  return data.tokens || [];}export async function getToken(denom) {  const res = await fetch(`${RPC_URL}/tokens/${denom}/metadata`);  const data = await res.json();  return data.metadata || null;}export async function createToken({ name, symbol, decimals, totalSupply, logo, description }) {  const wallet = await getWalletState();  const message = JSON.stringify({ type: 'create_token', name, symbol, decimals, total_supply: totalSupply });  const { signature, publicKey } = await signMessage(message);    const res = await fetch(`${RPC_URL}/tokens/create`, {    method: 'POST',    headers: { 'Content-Type': 'application/json' },    body: JSON.stringify({      creator: wallet.address,      name, symbol, decimals,      initial_supply: totalSupply,      max_supply: totalSupply,      logo_url: logo,      description,      signature,      pubkey: publicKey,    }),  });  return res.json();}// ============================================================================// Native DEX API// ============================================================================export async function getPools() {  const res = await fetch(`${RPC_URL}/dex/pools`);  const data = await res.json();  return data.pools || [];}export async function getPool(poolId) {  const res = await fetch(`${RPC_URL}/dex/pool/${poolId}`);  const data = await res.json();  return data.pool || null;}export async function getPrice(pairId) {  const res = await fetch(`${RPC_URL}/dex/price/${pairId}`);  return res.json();}export async function executeSwap({ pairId, tokenIn, amountIn, minAmountOut }) {  const wallet = await getWalletState();  const message = JSON.stringify({ type: 'swap', pair_id: pairId, token_in: tokenIn, amount_in: amountIn });  const { signature, publicKey } = await signMessage(message);    const res = await fetch(`${RPC_URL}/dex/swap`, {    method: 'POST',    headers: { 'Content-Type': 'application/json' },    body: JSON.stringify({      from_address: wallet.address,      pair_id: pairId,      token_in: tokenIn,      amount_in: amountIn,      min_amount_out: minAmountOut,      signature,      pubkey: publicKey,    }),  });  return res.json();}export async function createPair({ tokenA, tokenB, amountA, amountB }) {  const wallet = await getWalletState();  const message = JSON.stringify({ type: 'create_pair', token_a: tokenA, token_b: tokenB });  const { signature, publicKey } = await signMessage(message);    const res = await fetch(`${RPC_URL}/dex/create_pair`, {    method: 'POST',    headers: { 'Content-Type': 'application/json' },    body: JSON.stringify({      creator: wallet.address,      token_a: tokenA,      token_b: tokenB,      amount_a: amountA,      amount_b: amountB,      signature,      pubkey: publicKey,    }),  });  return res.json();}export async function addLiquidity({ pairId, amountA, amountB }) {  const wallet = await getWalletState();  const message = JSON.stringify({ type: 'add_liquidity', pair_id: pairId, amount_a: amountA, amount_b: amountB });  const { signature, publicKey } = await signMessage(message);    const res = await fetch(`${RPC_URL}/dex/add_liquidity`, {    method: 'POST',    headers: { 'Content-Type': 'application/json' },    body: JSON.stringify({      provider: wallet.address,      pair_id: pairId,      amount_a: amountA,      amount_b: amountB,      min_lp_tokens: '0',      signature,      pubkey: publicKey,    }),  });  return res.json();}export async function removeLiquidity({ pairId, lpAmount, minAmountA, minAmountB }) {  const wallet = await getWalletState();  const message = JSON.stringify({ type: 'remove_liquidity', pair_id: pairId, lp_amount: lpAmount });  const { signature, publicKey } = await signMessage(message);    const res = await fetch(`${RPC_URL}/dex/remove_liquidity`, {    method: 'POST',    headers: { 'Content-Type': 'application/json' },    body: JSON.stringify({      provider: wallet.address,      pair_id: pairId,      liquidity: lpAmount,      min_amount_a: minAmountA || '0',      min_amount_b: minAmountB || '0',      signature,      pubkey: publicKey,    }),  });  return res.json();}// Helper to get current wallet stateasync function getWalletState() {  if (!window.sultan?.isConnected()) throw new Error('Wallet not connected');  const address = await window.sultan.getAddress();  return { address };}